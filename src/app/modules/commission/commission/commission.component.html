<div class="p-6 bg-gray-50 w-full">
    <div class="max-w-7xl mx-auto">

        <!-- Header -->
        <div class="flex justify-between items-center mb-6">
            <div>
                <h1 class="text-3xl font-bold">Contrôle des <span class="text-blue-600">Commissions</span></h1>
                <p class="text-gray-500">Gérez et analysez les commissions par produit, catégorie et restaurant</p>
            </div>

            <div class="flex gap-2">
                <button class="flex items-center gap-1 border px-4 py-2 rounded-md hover:bg-gray-100 text-sm">
                    <mat-icon>download</mat-icon> Exporter CSV
                </button>
                <button class="flex items-center gap-1 border px-4 py-2 rounded-md hover:bg-gray-100 text-sm">
                    <mat-icon>description</mat-icon> Rapport PDF
                </button>
            </div>
        </div>

        <!-- Metrics Cards -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
            <div class="bg-white p-6 rounded-lg shadow text-center ">
                <p class="text-lg font-medium mb-2">Commission Totale</p>
                <p class="text-3xl font-bold text-gray-800">12 115,99 €</p>
                <p class="text-sm text-gray-500 mt-1">7.9% du chiffre d'affaires</p>
            </div>

            <div class="bg-white p-6 rounded-lg shadow text-center">
                <p class="text-lg font-medium mb-2">Chiffre d'Affaires Total</p>
                <p class="text-3xl font-bold text-gray-800">153 680 €</p>
                <p class="text-sm text-gray-500 mt-1">Généré par 10 partenaires</p>
            </div>

            <div class="bg-white p-6 rounded-lg shadow text-center">
                <p class="text-lg font-medium mb-2">Taux Moyen</p>
                <p class="text-3xl font-bold text-gray-800">7.9%</p>
                <p class="text-sm text-gray-500 mt-1">Taux de commission moyen</p>
            </div>
        </div>

        <!-- Tabs -->
        <mat-button-toggle-group
            class="bg-gray-100 p-2 rounded-xl flex justify-between mb-6 w-full"
            [value]="selectedTab()"
            (change)="selectTab($event.value)"
            appearance="legacy">

            <mat-button-toggle
                class="flex-1 text-center px-0 py-0 text-base rounded-xl font-medium"
                [ngClass]="{ 'bg-white shadow text-black': selectedTab() === 'regles', 'text-gray-500': selectedTab() !== 'regles' }"
                value="regles">
                Règles de Commission
            </mat-button-toggle>

            <mat-button-toggle
                class="flex-1 text-center px-0 py-0 text-base rounded-xl font-medium"
                [ngClass]="{ 'bg-white shadow text-black': selectedTab() === 'analyse', 'text-gray-500': selectedTab() !== 'analyse' }"
                value="analyse">
                Analyse
            </mat-button-toggle>

            <mat-button-toggle
                class="flex-1 text-center px-0 py-0 text-base rounded-xl font-medium"
                [ngClass]="{ 'bg-white shadow text-black': selectedTab() === 'rapports', 'text-gray-500': selectedTab() !== 'rapports' }"
                value="rapports">
                Rapports
            </mat-button-toggle>

        </mat-button-toggle-group>

        <!-- Tab Content -->
        @switch (selectedTab()) {
            @case ('regles') {
<!--                <app-commission-rules />-->
                hello
            }
            @case ('analyse') {
<!--                <app-commission-analysis />-->
            }
            @case ('rapports') {
                <app-commission-reports />
            }
        }

    </div>
</div>
